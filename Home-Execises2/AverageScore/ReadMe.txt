Условия задачи:
http://informatics.mccme.ru/moodle/mod/statements/view3.php?id=279&chapterid=328

Идея решения:

Суммируем отдельно все оценки по каждому предмету, и делим на количество учеников.