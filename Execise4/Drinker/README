Игра в пьяницу (№50).
ссылка: http://informatics.mccme.ru/moodle/mod/statements/view3.php?id=206&chapterid=50#1
реализация с помощью очереди.